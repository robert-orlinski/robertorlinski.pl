---
title: Nawigacja, kt贸ra chowa si podczas przewijania w d贸 i ukazuje, gdy scrollujemy w g贸r
abstract: Czy znasz efekt, w kt贸rym menu g贸wne na stronie, chowa siprzy scrollowaniu w d贸 i pokazuje, gdy jedziemy w g贸r? Ten efekt wykonamy!
isPublished: true
topics:
  - Front-end
date: 26.03.2018
isPopular: true
---

W tym wpisie chciabym pokaza Ci w jaki spos贸b stworzy efekt, kt贸ry zosta streszczony w tytule artykuu. Jak mo偶na si domyli do tego celu przydadz nam si trzy podstawowe technologie front-endowe, takie jak HTML, CSS oraz JavaScript.

Tak偶e przejd藕my dalej i poznajmy bli偶ej ten efekt oraz spos贸b na jego wykonanie. Zapraszam!

## Co jest naszym celem?

Dokadnie co takiego:

import { CodePenIframe } from 'CodePenIframe';

<CodePenIframe
  id="BrwGRd"
  title="Nawigacja, kt贸ra chowa si podczas przewijania w d贸 i ukazuje, gdy scrollujemy w g贸r"
/>

Jak wida wszystko polega na tym, 偶e podczas przewijania strony w d贸 nawigacja pynie si chowa, a gdy podjedziemy cho troch w g贸r, to zn贸w si pojawia.

## Kod HTML

Oto on:

```html
<nav></nav>
```

Chyba prostszy nie mo偶e by 

## Kod CSS

Tego r贸wnie偶 nie jest bardzo du偶o:

```css
body {
  height: 3000px;
}

.nav {
  position: fixed;
  width: 100vw;
  height: 3rem;
  top: 0;
  left: 0;
  background-color: #10131a;
  transition: top 200ms ease-in-out;
}

.nav--up {
  top: -3rem;
}
```

Wydaje mi si, 偶e nie ma potrzeby, abym tumaczy kod HTML oraz CSS, bo ten wpis m贸gby si do mocno, niepotrzebnie powikszy.

## Kod JavaScript

W tym miejscu zaczyna si g贸wna cz, bo to w kodzie JSa kryje si caa moc naszego efektu. Zawsze pokazuj cao na pocztku jego omawiania i tym razem nie mogoby by inaczej:

```js
const nav = document.querySelector('nav');

let previousScrollTop;
let isScrolling;

const hasScrolled = () => {
  const scrollTop = window.scrollY;

  if (scrollTop > previousScrollTop) {
    nav.classList.add('nav--up');
  } else {
    nav.classList.remove('nav--up');
  }

  previousScrollTop = scrollTop;
};

document.addEventListener('scroll', () => (isScrolling = true));

setInterval(() => {
  if (isScrolling) {
    hasScrolled();
    isScrolling = false;
  }
}, 100);
```

Zacznijmy od pocztku, czyli jak zwykle deklaracji zmiennych:

```js
const nav = document.querySelector('nav');

let previousScrollTop;
let isScrolling;
```

Dw贸m pierwszym wartoci przypiszemy p贸藕niej, natomiast zmiennanav zawiera element DOM naszej nawigacji.Stw贸rzmy najdu偶sz funkcj w kodzie o nazwie `hasScrolled()`:

```js

const hasScrolled = () => {

```

Tu zadeklarujmy tylko jedn zmienn:

```js
const scrollTop = window.scrollY;
```

Ta zawiera ilo pikseli od g贸ry dokumentu do miejsca, w kt贸rym znajduje si ekran przegldarki.

W p贸藕niejszym etapie widzimy tak instrukcj warunkow:

```js
if (scrollTop > previousScrollTop) {
  nav.classList.add('nav--up');
} else {
  nav.classList.remove('nav--up');
}
```

Jeli warto ze zmiennej scrollTop bdzie wiksza od liczby siedzcej w `previousScrollTop` (czyli w praktyce bdziemy przewija w d贸), to do naszej nawigacji zostanie dodana klasa navup, kt贸ra to chowa nasz nawigacj. W przeciwnym razie zmienna zostanie usunita.

Pozosta nam tylko ten prosty kod:

```js
  previousScrollTop = scrollTop;
}
```

...kt贸ry przypisuje do zmiennej previousScrollTop obecn liczb pikseli od g贸ry dokumentu, do miejsca, w kt贸rym znajduje si nasze okno.

Do zrobienia zostay nam tylko 2 funkcje, pierwsza prezentuje si w ten spos贸b:

```js
document.addEventListener('scroll', () => (isScrolling = true));
```

i po prostu sprawdza, czy przewijamy witryn (jeli zdarzenie scroll zostanie wykryte, to zmienna isScrolling otrzymuje warto true).

I na koniec nastpuje taki oto kod:

```js
setInterval(() => {
  if (isScrolling) {
    hasScrolled();
    isScrolling = false;
  }
}, 100);
```

kt贸ry co 100 milisekund sprawdza, czy zmienna `isScrolling` ma warto `true`, czyli czy u偶ytkownik przewija nasz witryn. Jeli tak si dzieje, to wywouje wczeniej zadeklarowan funkcj `hasScrolled()`i przywraca wartofalsedla zmiennej`isScrolling`.

## Podsumowanie

I tak oto prezentuje si nasz efekt wykonany w caoci. Mam nadziej, 偶e ten artyku m贸g uatwi Ci zrozumienie dziaania przedstawionego skryptu!
