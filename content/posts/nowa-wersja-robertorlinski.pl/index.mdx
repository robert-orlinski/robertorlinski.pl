---
title: Nowy RobertOrlinski.pl = TypeScript + Next.js + Styled Components + mdx-bundler + inne âœ¨
abstract: StworzyÅ‚em nowÄ… wersjÄ™ mojego bloga i strony osobistej? Po co? Za pomocÄ… jakich technologii? Co siÄ™ zmieniÅ‚o?
isPublished: true
topics:
  - Front-end
date: 22.05.2022
isPopular: false
menuOrder: 0
---

Oj, strasznie dÅ‚ugo mnie tu nie byÅ‚o.

W tym czasie, podziaÅ‚o siÄ™ trochÄ™ w Å¼yciu prywatnym jak i zawodowym.

W kontekÅ›cie tego drugiego zmieniÅ‚em:

- Technologie, w ktÃ³rych pracujÄ™ - na co dzieÅ„ nie robiÄ™ juÅ¼ niczego w WordPressie, a zamiast tego tworzÄ™ front-endy w Reactcie, TypeScriptcie i im podobnych;
- PracÄ™ - wczeÅ›niej pomagaÅ‚em rozwijaÄ‡ agencjÄ™ kreatywnÄ…, jako CTO, a teraz wspÃ³Å‚tworzÄ™ aplikacje, ktÃ³re usprawniajÄ… opiekÄ™ spoÅ‚ecznÄ… w Szwecji i pierwszy raz od poczÄ…tku zarabiania na Å¼ycie jako programista, robiÄ™ gÅ‚Ã³wnie to;
- Typ pracy - dziaÅ‚ajÄ…c w ramach agencji, duÅ¼o pracowaÅ‚em z klientami, managementem, wspieraÅ‚em zespÃ³Å‚, tworzyÅ‚em procesy i gdzieÅ› poÅ›rÃ³d tego wszystkiego pisaÅ‚em kod. Teraz siedzÄ™ tylko w kodzie i na obecnym etapie, sprawia mi to tonÄ™ satysfakcji i radoÅ›ci. Wszystko przez to, Å¼e:
  - pracujÄ™ w ciekawszych dla mnie technologiach;
  - w koÅ„cu mogÄ™ zamknÄ…Ä‡ siÄ™ przed caÅ‚ym Å›wiatem i rozwiÄ…zywaÄ‡ dany, pojedynczy problem (a nie skaczÄ™ miÄ™dzy rÃ³Å¼nymi sprawami);
  - wynikiem mojej pracy nie jest kolejne miejsce, ktÃ³re ma â€œsprzedawaÄ‡â€, ale zamiast tego coÅ›, co realnie ulepsza Å¼ycie pewnej grupy osÃ³b.

A w przy okazji (tu dochodzimy do tematu tego artykuÅ‚u) stworzyÅ‚em nowÄ… wersjÄ™ swojego bloga! NiemajÄ…cÄ… w sobie juÅ¼ nigdzie WordPressa, a zamiast tego bazujÄ…cÄ… na technologiach takich jak:

- React.js;
- Next.js;
- TypeScript;
- Styled Components;
- MDX;
- Node.js.

I paru pomniejszych i wspomagajÄ…cych development, np.:

- Jest;
- React Testing Library;
- Husky;
- Ts-node.

Dlaczego bazuje ona akurat na takich technologiach? Dlaczego w ogÃ³le powstaÅ‚a nowa wersja mojego bloga? Co zostaÅ‚o ulepszone, dodane, zmienione, ale teÅ¼ usuniÄ™te (na przykÅ‚ad Google Analytics) i dlaczego?

Na wszystkie te pytania odpowiadam w poniÅ¼szym artykule.

PS. CaÅ‚y kod nowej wersji bloga jest w peÅ‚ni publiczny - znajdziesz go na [moim GitHubie](http://github.com/robert-orlinski/robertorlinski.pl)!

PPS. JeÅ›li widzisz na blogu jakikolwiek bÅ‚Ä…d lub coÅ›, co wg Ciebie warto zmieniÄ‡, bÄ™dÄ™ super wdziÄ™czny, jeÅ›li dodasz to jako [issue na GitHubie](https://github.com/robert-orlinski/robertorlinski.pl/issues) i tym samym pomoÅ¼esz mi w rozwoju tego miejsca ğŸ¤—

## Spis treÅ›ci

1. [Po co stwozyÅ‚em nowÄ… wersjÄ™Â tego bloga?](#po-co-zmieniac-cos-co-dzialalo-w-miare-dobrze-czytaj-tworzyc-nowa-wersje-tego-bloga)
   1. [Naturalnie po to, aby czegoÅ› nowego siÄ™ nauczyÄ‡!](#po-pierwsze-naturalnie-po-to-aby-czegos-nowego-sie-nauczyc)
   2. [Aby Å‚atwiej edytowaÄ‡ i wspieraÄ‡ kod samego bloga](#aby-latwiej-edytowac-i-wspierac-kod-samego-bloga)
   3. [Aby pisaÄ‡ w Markdownie](#po-to-aby-pisac-w-markdownie)
   4. [Aby przy okazji wprowadziÄ‡ co nieco zmian âœ¨](#aby-przy-okazji-wprowadzic-co-nieco-zmian)
   5. [Aby mieÄ‡ motywacjÄ™ do przejrzenia i poprawienia istniejÄ…cych treÅ›ci](#i-na-koniec-aby-miec-motywacje-do-przejrzenia-i-poprawienia-wszelkich-tresci-ktore-powstaly-na-nim-do-tej-pory)
2. [Co siÄ™Â zmieniÅ‚o?](#to-teraz-powiedzmy-sobie-co-tak-naprawde-sie-zmienilo-na-blogu)
   1. [Snippety z kodem ğŸ‘©â€ğŸ’»](#kwestia-pierwsza-snippety-z-kodem)
   2. [Wyszukiwarka ğŸ”](#kwestia-druga-wyszukiwarka)
   3. [Komentarze ğŸ’¬](#kwestia-trzecia-komentarze)
   4. [Brak analityki i statystyk âŒ](#kwestia-czwarta-brak-analityki-i-statystyk)
   5. [Zmiany w designie i szybsze dziaÅ‚anie strony ğŸš€](#kwestia-piata-zmiany-w-designie-i-szybsze-dzialanie-strony)
3. [Lista technologii, narzÄ™dzi i bibliotek, ktÃ³re wykorzystaÅ‚em przy tworzeniu nowej wersji](#lista-technologii-narzedzi-i-bibliotek-ktore-wykorzystalem-przy-tworzeniu-nowej-wersji-robertorlinskipl)
   1. [TypeScript](#moj-ukochany-typescript)
   2. [React, Next.js, Styled Components](#react-nextjs-styled-components)
   3. [Mdx-bundler](#mdx-bundler)
   4. [Remark-mdx-images](#remark-mdx-images)
   5. [React Hook Form](#react-hook-form)
   6. [Ts-node](#ts-node)
   7. [Husky](#husky)
   8. [Jest i React Testing Library](#jest-i-react-testing-library)
   9. [Module-alias](#module-alias)
   10. [RSS](#rss)
   11. [I kilka innych, mniejszych narzÄ™dzi](#i-kilka-innych-mniejszych-narzedzi)
4. [PosÅ‚owie](#i-to-tyle-na-dzis)

## Po co zmieniaÄ‡ coÅ›, co dziaÅ‚aÅ‚o w miarÄ™ dobrze? Czytaj tworzyÄ‡ nowÄ… wersjÄ™ tego bloga?

### Po pierwsze, naturalnie po to, aby czegoÅ› nowego siÄ™ nauczyÄ‡!

NarzÄ™dzi takich jak choÄ‡by [mdx-bundler](https://github.com/kentcdodds/mdx-bundler), [ts-node](https://github.com/TypeStrong/ts-node), czy pracy na plikach w Node.js.

Oraz aby rozwinÄ…Ä‡ doÅ›wiadczenie w tych technologiach, ktÃ³re znaÅ‚em, ale nie wykorzystywaÅ‚em ich tak czÄ™sto na co dzieÅ„ - TypeScript, React, Next.js, Styled Components i kilka innych. WiÄ™cej na ich temat opowiem trochÄ™ [dalej](#lista-technologii-narzedzi-i-bibliotek-ktore-wykorzystalem-przy-tworzeniu-nowej-wersji-robertorlinskipl).

### Po drugie, aby w peÅ‚ni odciÄ…Ä‡ siÄ™ od WordPressa

I tu muszÄ™ siÄ™ zapewne na chwilkÄ™ zatrzymaÄ‡.

WordPress skoÅ„czyÅ‚ siÄ™ dla mnie jakieÅ› 1,5 roku temu. ChwilÄ™ musiaÅ‚em odczuÄ‡ to przez lekkie wypalenie, a pÃ³Åºniej zabraÅ‚em siÄ™ za uczenie innych technologii i szybkie wykorzystywanie ich w ramach wspÃ³Å‚pracy z agencjÄ…. TrwaÅ‚o to okoÅ‚o rok. Po tym czasie z kolei nadeszÅ‚a pora, aby technologie, ktÃ³rych siÄ™ nauczyÅ‚em, zastosowaÄ‡ w praktyce w 100% i w ten oto sposÃ³b 5 miesiÄ™cy temu zaczÄ…Å‚em pracÄ™ jako front-endowiec.

I tak jak dalej uwaÅ¼am WordPressa za przydatnÄ… technologiÄ™, tak sam nie chcÄ™ w nim juÅ¼ pracowaÄ‡. I zapewne Ty lub inne osoby czytajÄ…ce ten artykuÅ‚, moÅ¼ecie pomyÅ›leÄ‡ sobie:

> Huh, po 3 latach pracy z nim jako freelancer i 2 na peÅ‚en etat?

Tak. W koÅ„cu kaÅ¼dy ma swoje tempo, swojÄ… sytuacjÄ™ i swoje potrzeby!

Z perspektywy rozwoju jako klepacz kodu - moÅ¼e powinienem zajÄ…Ä‡ siÄ™ innymi rzeczami znacznie szybciej.

Z perspektywy super relacji, wiedzy zwiÄ…zanej z programowaniem i nie tylko, jak i doÅ›wiadczeÅ„, ktÃ³re zdobyÅ‚em na tej drodze - zrobiÅ‚em to w idealnym momencie.

Nie Å¼aÅ‚ujÄ™ nawet w 0,0001% ğŸ¥³

> Ale co przy okazji trzeba powiedzieÄ‡ - z racji, Å¼e nie mam i nie chcÄ™ juÅ¼ mieÄ‡ stycznoÅ›ci z WordPressem, na blogu zapewne teÅ¼ juÅ¼ w ogÃ³le go nie bÄ™dzie, wiÄ™c jeÅ›li byÅ‚aÅ› lub byÅ‚eÅ› tu tylko dla niego, nie obawiaj siÄ™ przestaÄ‡ Å›ledziÄ‡ moich sociali, newslettera i tutaj zaglÄ…daÄ‡! Ja mogÄ™ tylko trzymaÄ‡ kciuki, Å¼e to co w jego temacie stworzyÅ‚em, do tej pory Ci siÄ™ jak najmocniej przydaÅ‚o.

### Aby Å‚atwiej edytowaÄ‡ i wspieraÄ‡ kod samego bloga

PorÃ³wnajmy wprowadzenie nowego elementu na blogu â€œza czasÃ³w WordPressaâ€ i â€œza czasÃ³w Next.jsaâ€. Niech bÄ™dzie to sekcja zapraszajÄ…ca do newslettera na stronie gÅ‚Ã³wnej oraz dodatkowo zaÅ‚Ã³Å¼my, Å¼e nie mam postawionego Å›rodowiska.

BazujÄ…c na WP, przechodziÅ‚em przez nastÄ™pujÄ…ce kroki:

1. InstalacjÄ™ WordPressa lokalnie.
2. Zmigrowanie bazy danych.
3. Pobranie motywu z GitHuba.
4. Postawienie i uruchomienie Å›rodowiska dla motywu.
5. Zakodowanie i ostylowanie nowej sekcji.
6. Wgranie zmian na serwer...
7. ...i na GitHuba (nieraz prÃ³bowaÅ‚em to poÅ‚Ä…czyÄ‡, aby zmiany wrzucane na GH, automatycznie wrzucaÄ‡ na serwer, ale zawsze byÅ‚o to w jakiÅ› sposÃ³b zawodne, szczegÃ³lnie przy okazji przywracania jednej z poprzednich wersji serwisu za pomocÄ… choÄ‡by `git revert`).

BazujÄ…c na Next.jsie, wyglÄ…da to nastÄ™pujÄ…co:

1. Pobieramy kod z GitHuba.
2. Stawiamy i uruchamiamy Å›rodowisko.
3. Tworzymy nowÄ… sekcjÄ™.
4. Wgrywamy jÄ… na GH, po czym automatycznie i bezproblemowo lÄ…duje ona na serwerze i jest widoczna dla Ciebie i kaÅ¼dej innej osoby, ktÃ³ra trafi na mojego bloga.

7 krokÃ³w redukuje nam siÄ™ do 4.

Dodatkowo, jeÅ›li nie mam akurat postawionego Å›rodowiska i pobranego projektu, a zmiana jest na tyle maÅ‚a, Å¼e nie wymaga podglÄ…du przed wrzuceniem na serwer (np. jakaÅ› literÃ³wka lub rozwiÄ…zanie prostego bÅ‚Ä™du w CSS), to mogÄ™ to zrobiÄ‡ za pomocÄ… [github.dev](https://docs.github.com/en/codespaces/the-githubdev-web-based-editor):

![](./github.dev.jpg)

Z 7 krokÃ³w robi siÄ™ 1, bo nie muszÄ™ pobieraÄ‡ kodu, stawiaÄ‡ Å›rodowiska, ani pÃ³Åºniej wrzucaÄ‡ zmian na GitHuba.

Dodatkowo, przy kaÅ¼dym commicie, automatycznie odpalam 2 komendy, ktÃ³re sprawdzajÄ…, czy nie zrobiÅ‚em jakiejÅ› gafy w kodzie:

- `npx lint-staged`
- `npm test`

Oraz kod, ktÃ³ry automatycznie generuje mi prosty plik z cachem wszystkich postÃ³w (co zwiÄ™ksza szybkoÅ›Ä‡ wyszukiwarki) oraz [feed RSS](https://robertorlinski.pl/rss.xml):

```bash
npm run generate
git add cache/posts.json
git add public/rss.xml
```

W przypadku motywu na WordPressie, wszystkie te automatyczne czynnoÅ›ci byÅ‚yby jakieÅ› 50x trudniejsze w implementacji.

> JeÅ›li kiedykolwiek (na przykÅ‚ad) konfigurowaÅ‚eÅ›, a pÃ³Åºniej pisaÅ‚eÅ› testy jednostkowe i integracyjne (ktÃ³rych mam odrobinÄ™ w nowej wersji bloga) dla motywu pod WordPressa, zapewne masz Å›wiadomoÅ›Ä‡, Å¼e liczba 50 nie jest tu przesadÄ….

### Po to aby pisaÄ‡ w Markdownie

Czy jest na sali ktoÅ› kto nauczyÅ‚ siÄ™ skÅ‚adni Markdowna i z niej nie korzysta?

\*nikt nie podnosi rÄ™ki\*

Markdown jest super - pozwala pisaÄ‡ szybciej i skupiaÄ‡ siÄ™ wÅ‚aÅ›nie na pisaniu(!), a nie na formatowaniu tekstu i szukaniu rÃ³Å¼nych opcji w interfejsie aplikacji, ktÃ³rej do tego pisania uÅ¼ywamy.

I tak jak Markdown jest wspierany przez Gutenberga i to w bardzo przystÄ™pny sposÃ³b, co jest super, tak dla mnie sam w sobie Markdown, gryzie siÄ™ z podziaÅ‚em kaÅ¼dego skrawka tekstu - paragrafu, nagÅ‚Ã³wka, cytatu itp. - na osobne bloki. Przez to edycja takiego tekstu nie jest tak przyjemna jak edycja klasycznego dokumentu tekstowego. Tu nam coÅ› przeskakuje, tu czasami siÄ™ coÅ› zbuguje i tak dalej.

Pisanie artykuÅ‚Ã³w w [Notion](https://www.notion.so/), kopiowanie ich po ukoÅ„czeniu do Visual Studio Code, a jeÅ›li to potrzebne, pÃ³Åºniejsze poprawki juÅ¼ bezpoÅ›rednio w VSC (z dodatkowÄ… pomocÄ… rozszerzeÅ„ [MDX](https://marketplace.visualstudio.com/items?itemName=silvenon.mdx), [Code Spell Checker](https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker) i [Polish - Code Spell Checker](https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker-polish)) jest dla mnie przyjemniejsze, niÅ¼ korzystanie z Gutenberga w tym samym celu.

Gutenberg jest wg mnie super edytorem wizualnym, ale nie edytorem tekstu.

### Aby przy okazji wprowadziÄ‡ co nieco zmian âœ¨

I wdroÅ¼yÄ‡ je, piszÄ…c w technologiach, w ktÃ³rych pisze mi siÄ™ obecnie nieporÃ³wnywalnie przyjemniej, niÅ¼ w klasycznym HTMLu, PHPie i SCSSie.

O tym co dokÅ‚adnie wdroÅ¼yÅ‚em, powiem trochÄ™ niÅ¼ej, w [czÄ™Å›ci na temat samych zmian na blogu](#to-teraz-powiedzmy-sobie-co-tak-naprawde-sie-zmienilo-na-blogu).

### I na koniec - aby mieÄ‡ motywacjÄ™ do przejrzenia i poprawienia wszelkich treÅ›ci, ktÃ³re powstaÅ‚y na nim do tej pory

W koÅ„cu przed stworzeniem tej nowej wersji, istniaÅ‚y w ramach bloga takie smaczki:

![](./smaczek.jpg)

...ktÃ³re jak moÅ¼na zobaczyÄ‡, wyglÄ…daÅ‚y sÅ‚abo.

Na przestrzeni lat (pierwszy wpis na blogu pojawiÅ‚ siÄ™ w roku 2017), trochÄ™ rzeczy z rÃ³Å¼nych powodÃ³w przestaÅ‚o dziaÅ‚aÄ‡ i stworzenie nowej wersji byÅ‚o idealnym pretekstem do tego, aby zebraÄ‡ siÄ™ w sobie, wszystkie te rzeczy przejrzeÄ‡ i poprawiÄ‡!

W nowej wersji, skrawek artykuÅ‚u podesÅ‚any powyÅ¼ej, wyglÄ…da nastÄ™pujÄ…co:

![](./poprawiona-wersja.jpg)

Jest o wiele lepiej!

A przy okazji, przeze to, Å¼e caÅ‚y blog jest napisany przeze mnie od podstaw i nie korzystam z Å¼adnych wtyczek WordPressa lub tego rodzaju "zewnÄ™trznego kodu", to mam pewnoÅ›Ä‡, Å¼e rzeczy, ktÃ³re znajdujÄ… siÄ™ na blogu, nie zepsujÄ… siÄ™ niezaleÅ¼nie ode mnie.

## To teraz powiedzmy sobie - co tak naprawdÄ™ siÄ™ zmieniÅ‚o na blogu?

### Kwestia pierwsza - snippety z kodem ğŸ‘©â€ğŸ’»

Dawno, dawno temu, korzystaÅ‚em na blogu z wtyczki, ktÃ³rej nazwy juÅ¼ nie pamiÄ™tam i ktÃ³ra dobre parÄ™ lat temu przestaÅ‚a byÄ‡ wspierana i zniknÄ™Å‚a z repozytorium wtyczek WordPressa.

Gdy przestaÅ‚a byÄ‡ wspierana, przerzuciÅ‚em siÄ™ na plugin [CodeMirror Blocks](https://pl.wordpress.org/plugins/wp-codemirror-block/).

Å»adna z nich nie byÅ‚a zbyt wygodna, bo aby dodaÄ‡ konkretny skrawek kodu, kiedyÅ› musiaÅ‚em rÄ™cznie umieszczaÄ‡ obiekt z danej wtyczki w edytorze tekstowym WordPressa, a pÃ³Åºniej dodawaÄ‡ odpowiedni blok Gutenberga, gdy w WP nastaÅ‚a jego era.

Teraz jest znacznie proÅ›ciej.

Gdy chcÄ™ umieÅ›ciÄ‡ kawaÅ‚ek kodu w jakimkolwiek artykule na blogu, mogÄ™ zrobiÄ‡ to dodajÄ…c w kodzie coÅ› takiego (pewnie kojarzysz tÄ™ konstrukcjÄ™, jeÅ›li znasz skÅ‚adniÄ™ Markdowna), aby np. formatowaÄ‡ kod wg skÅ‚adni TypeScripta:

````bash
```ts
```
````

...coÅ› takiego dla skÅ‚adni CSSa:

````bash
```css
```
````

...tak dalej.

Wszystkie te snippety sÄ… automatycznie formatowane, dziÄ™ki bibliotece [@mapbox/rehype-prism](https://github.com/mapbox/rehype-prism), ktÃ³rÄ… wpiÄ…Å‚em w [konfiguracjÄ™ mdx-bundlera](https://github.com/robert-orlinski/robertorlinski.pl/blob/main/helpers/content/mdx.ts#L45=), a ich wyglÄ…d [zdefiniowany jest w CSSie](https://github.com/robert-orlinski/robertorlinski.pl/blob/main/components/CodeBlock/CodeBlock.tsx#L5=).

DziÄ™ki temu kaÅ¼dy kawaÅ‚ek kodu na blogu wyglÄ…da dokÅ‚adnie tak samo, a w razie potrzeby wyglÄ…d ten Å‚atwo moÅ¼e zostaÄ‡Â zmodyfikowany.

Dodatkowo, dziÄ™ki temu, Å¼e wszystko bazuje na Markdownie, w razie potrzeby mogÄ™ w bardzo Å‚atwy sposÃ³b zmigrowaÄ‡ wszystkie posty w inne miejsce (jeÅ›li to rÃ³wnieÅ¼ go obsÅ‚uguje), a formatowanie dostosuje siÄ™ bez wiÄ™kszych komplikacji, wg reguÅ‚ nakÅ‚adanych przez miejsce, do ktÃ³rego te wpisy przeniosÄ™.

### Kwestia druga - wyszukiwarka ğŸ”

Gdy blog byÅ‚ na WordPressie, po wpisaniu danej frazy i wciÅ›niÄ™ciu `Enter`, wyszukiwarka przenosiÅ‚a nas do osobnej podstrony z listÄ… wyszukanych postÃ³w.

Teraz wszystko dzieje siÄ™ w ramach jednego pop-upa, ktÃ³ry pojawia siÄ™ po klikniÄ™ciu lupki dostÄ™pnej z poziomu gÃ³rnej nawigacji. Od pierwszej wpisanej literki, widzimy listÄ™ artykuÅ‚Ã³w, ktÃ³rych tytuÅ‚y pasujÄ… do wpisanej frazy.

Wydaje mi siÄ™, Å¼e jest szybciej i przyjemniej âœ¨

Dodatkowo, przez to, Å¼e [Next.js nie zresetuje stanu danego widoku](https://nextjs.org/docs/api-reference/next/router), gdy jesteÅ›my w ramach konkretnej Å›cieÅ¼ki dynamicznej, na przykÅ‚ad:

```text
https://robertorlinski.pl/artykuly/[adres-konkretnego-posta]
```

...to gdy przejdziemy do wyszukanego artykuÅ‚u i zobaczymy, Å¼e nie jest tym czego poszukiwaliÅ›my, to moÅ¼emy otworzyÄ‡ wyszukiwarkÄ™ ponownie i zobaczyÄ‡ tÄ™ samÄ… wpisanÄ… frazÄ™ i te same wyniki, ktÃ³re doprowadziÅ‚y nas do posta, w ktÃ³rym jesteÅ›my obecnie. DziÄ™ki temu nie musimy wyszukiwaÄ‡ wpisÃ³w dotyczÄ…cych tego samego tematu po raz kolejny.

MaÅ‚a rzecz, a sprawia, Å¼e przyjemnoÅ›Ä‡ z uÅ¼ytkowania roÅ›nie!

### Kwestia trzecia - komentarze ğŸ’¬

KiedyÅ› na blogu uÅ¼ywaÅ‚em domyÅ›lnych komentarzy WordPressa.

PÃ³Åºniej (w okolicach 2018 roku) dostaÅ‚em niejeden komentarz lub wiadomoÅ›Ä‡ prywatnÄ… o treÅ›ci tego rodzaju:

> Hej, weÅº zmieÅ„ te domyÅ›lne komentarze WordPressa chÅ‚opie! Najlepiej na Disqusa. Te pierwsze sÄ… passÃ© - wymagajÄ… podpisywania siÄ™ na kaÅ¼dej stronie, na ktÃ³rej dana osoba chce zostawiÄ‡ po sobie jakiÅ› Å›lad i nie dajÄ… tych wszystkich fajnych, spoÅ‚ecznoÅ›ciowych funkcji, co Disqus!

I przerzuciÅ‚em siÄ™ na Disqusa.

Do czasu aÅ¼ nie zdaÅ‚em sobie sprawy, Å¼e Disqus Å›ledziÅ‚ kaÅ¼dÄ… osobÄ™, ktÃ³ra zaglÄ…daÅ‚a na mojego bloga (oraz przy okazji mnie [od kaÅ¼dej moÅ¼liwej strony](https://supunkavinda.blog/disqus).

WiÄ™c go na szybko usunÄ…Å‚em i przez jakiÅ› czas blog nie miaÅ‚ w sobie Å¼adnych komentarzy.

Nowa wersja z kolei, bazuje na [Giscusie](https://giscus.app/) - narzÄ™dziu, ktÃ³re nie Å›ledzi, ma otwarte ÅºrÃ³dÅ‚o i bazuje dyskusjach GitHuba ğŸ‰

### Kwestia czwarta - brak analityki i statystyk âŒ

WspominaÅ‚em o prywatnoÅ›ci, wiÄ™c moÅ¼e od razu pociÄ…gnÄ™ ten temat.

Na blogu nie ma juÅ¼ Google Analytics ani niczego podobnego. Nie gromadzÄ™ statystyk i nie wyciÄ…gam z nich Å¼adnych wnioskÃ³w.

Sam tego rodzaju narzÄ™dzia namiÄ™tnie blokujÄ™, wiÄ™c:

1. Nie byÅ‚bym w porzÄ…dku, samemu je blokujÄ…c, ale przy tym wykorzystujÄ…c je na swojej stronie.
2. Nie mogÄ™ ufaÄ‡ im wynikom - skoro sam nie jestem zliczany w tego typu statystykach ([Brave](https://brave.com/), [Privacy Badger](https://privacybadger.org/), [ClearURLs](https://chrome.google.com/webstore/detail/clearurls/lckanjgmijmafbedllaakclkaicjfmnk/), czy [Decentraleyes](https://decentraleyes.org/) dbajÄ… o to, aby Å¼adne tego rodzaju narzÄ™dzia Å›ledzÄ…ce nie zaÅ‚adowaÅ‚y siÄ™ w mojej przeglÄ…darce), to rÃ³wnie dobrze mogÄ™ zaÅ‚oÅ¼yÄ‡, Å¼e poÅ‚owa osÃ³b, ktÃ³re odwiedzajÄ… mojego bloga rÃ³wnieÅ¼.

Fakt ten, w poÅ‚Ä…czeniu z brakiem Disqusa sprawia, Å¼e na moim blogu nie ma niczego, co mogÅ‚oby bez Twojej i mojej wiedzy zbieraÄ‡ informacje na TwÃ³j temat:

![](./zero-trackerow.jpg)

...co nie jest standardem w obecnych czasach.

### Kwestia piÄ…ta - zmiany w designie i szybsze dziaÅ‚anie strony ğŸš€

W tym punkcie moÅ¼e nie bÄ™dÄ™ siÄ™ rozpisywaÄ‡, bo informacje w stylu â€œzmieniÅ‚em widok tematÃ³w, czy baner na stronie gÅ‚Ã³wnej, na wg mnie Å‚adniejszeâ€ raczej nie bÄ™dÄ… dla Ciebie interesujÄ…ce (moÅ¼esz zawsze daÄ‡ mi znaÄ‡ w komentarzu, jeÅ›li siÄ™ mylÄ™).

Ale na pewno mogÄ™ wspomnieÄ‡, Å¼e poza tym blog chodzi znacznie, znacznie szybciej - czy to w kontekÅ›cie Å‚adowania siÄ™ podstron, czy to w kontekÅ›cie redukcji krokÃ³w potrzebnych do tego, aby dostaÄ‡ siÄ™ do danego miejsca na blogu - wyszukaÄ‡ coÅ›, przeczytaÄ‡ starsze wpisy (np. przez brak paginacji we [wszystkich artykuÅ‚ach](/wszystkie-artykuly)), itp.

Mam nadziejÄ™, Å¼e wszystkie te maÅ‚e modyfikacje sprawiajÄ…, Å¼e z samej strony korzysta Ci siÄ™ caÅ‚kiem przyjemnie âœ¨ JeÅ›li nie, to daj mi proszÄ™ znaÄ‡ i chÄ™tnie poprawiÄ™ rzeczy, ktÃ³re warto bÄ™dzie poprawiÄ‡!

## W koÅ„cu - lista technologii, narzÄ™dzi i bibliotek, ktÃ³re wykorzystaÅ‚em przy tworzeniu nowej wersji RobertOrlinski.pl

### MÃ³j ukochany - TypeScript

O tym, dlaczego miÄ™dzy innymi kocham [TypeScripta](https://www.typescriptlang.org/), pisaÅ‚em juÅ¼ odrobinÄ™ w [newsletterze](/newsletter) i na [Instagramie](https://www.instagram.com/p/CR4csr4DJQt/).

Dlatego teÅ¼ nie mogÅ‚em mu siÄ™ oprzeÄ‡ i w tym przypadku.

### React, Next.js, Styled Components

TrÃ³jka, ktÃ³ra sprawia, Å¼e kodowanie tego bloga byÅ‚o przyjemnoÅ›ciÄ… i jego rozwÃ³j jest przyjemnoÅ›ciÄ…:

1. Intuicyjne kodowanie widokÃ³w dziÄ™ki [Reactowi](https://reactjs.org/).
2. Server side rendering, wiele reguÅ‚ optymalizujÄ…cych od razu kod serwisu (przez co strona Å‚aduje siÄ™ w mgnieniu oka ğŸš€) i tworzenie endpointÃ³w API w ramach samej aplikacji i za pomocÄ… skÅ‚adni [Node.js](https://nodejs.org/en/), dziÄ™ki [Next.js](https://nextjs.org/).
3. A do tego wszystkiego [Styled Componenty](https://styled-components.com/), ktÃ³rych mi uÅ¼ywa siÄ™ bardzo intuicyjnie. Nie uwaÅ¼am, Å¼e sÄ… one lepsze od np. klasycznego SCSSa, ale jeÅ›li do tej pory brakowaÅ‚o Ci okazji, aby z nich korzystaÄ‡, to polecam siÄ™ zapoznaÄ‡ - a nuÅ¼ siÄ™ polubicie, tak jak byÅ‚o to w moim przypadku.

### Mdx-bundler

Kolejne cudo, ktÃ³re tym razem sprawia, Å¼e nie tylko praca nad kodem, ale teÅ¼ nad artykuÅ‚ami na blogu, staje siÄ™ przyjemnoÅ›ciÄ….

Ale po kolei.

#### W pierwszej kolejnoÅ›ci, dlaczego artykuÅ‚y na moim blogu nie sÄ… zapisane w plikach .md, a zamiast tego w .mdx?

Pliki `.mdx` sÄ… de facto plikami Markdowna, ale z jednym bonusem. DziÄ™ki ich uÅ¼yciu, poza korzystaniem ze standardowych tagÃ³w Markdown oraz znacznikÃ³w HTMLa, mogÄ™ do danego artykuÅ‚u wrzuciÄ‡ komponenty Reactowe!

Np. w ten sposÃ³b:

```md
Pewien tekst zapisany w Markdownie.

<ATuKomponentReactowy i="kilka" atrybutÃ³w />
```

DziÄ™ki temu w bardzo Å‚atwy sposÃ³b mogÄ™ umieszczaÄ‡ niestandardowe elementy w artykuÅ‚ach na blogu, takie jak na przykÅ‚ad to zaproszenie do newslettera:

```md
import NewsletterInterlude from 'NewsletterInterlude';

<NewsletterInterlude />
```

#### A dlaczego uÅ¼ywam akurat mdx-bundlera, a nie innego, podobnego narzÄ™dzia?

Wszystko przez to, Å¼e w [mdx-bundlerze](https://github.com/kentcdodds/mdx-bundler) jestem w stanie zrobiÄ‡ coÅ› takiego:

```tsx
JakiÅ› tekst zapisany w Markdownie.

import ATuKomponentReactowy from './aTuKomponentReactowy';

<ATuKomponentReactowy i="kilka" atrybutÃ³w />
```

W przypadku innych znanych mi rozwiÄ…zaÅ„, na przykÅ‚ad [next-mdx-remote](https://github.com/hashicorp/next-mdx-remote), wszystkie komponenty, ktÃ³re zostanÄ… wykorzystane w jakimkolwiek z artykuÅ‚Ã³w, muszÄ… byÄ‡ przekazane do komponentu, ktÃ³ry generuje kod na bazie naszych plikÃ³w `.mdx`. PrzykÅ‚ad z dokumentacji:

```tsx
import { serialize } from 'next-mdx-remote/serialize';
import { MDXRemote } from 'next-mdx-remote';

import Test from '../components/test';

export default function Article({ source }) {
  return <MDXRemote {...source} components={{ Test }} />;
}

export async function getStaticProps() {
  // MDX text - can be from a local file, database, anywhere
  const source = 'Some **mdx** text, with a component <Test />';
  const mdxSource = await serialize(source);
  return { props: { source: mdxSource } };
}
```

[Mdx-bundler](https://github.com/kentcdodds/mdx-bundler) z kolei, pozwala mi zaimportowaÄ‡ dany komponent tylko w jednym artykule i Å¼adnym innym:

```tsx
import Test from '../components/test';

<Test />;
```

...i tylko dla tego jednego artykuÅ‚u zaÅ‚adowaÄ‡ kod owego komponentu.

[Next-mdx-remote](https://github.com/hashicorp/next-mdx-remote) wszystkie przekazane do niego komponenty wrzuci do jednego bundle'a i bÄ™dzie Å‚adowaÄ‡ we wszystkich artykuÅ‚ach, rÃ³wnieÅ¼ wtedy gdy ich nie potrzebujemy.

Daje mi to dodatkowo lÅ¼ejszego i przez to szybciej dziaÅ‚ajÄ…cego bloga.

### Remark-mdx-images

Gdy mÃ³wimy o mdx-bundlerze, to warto wspomnieÄ‡ jeszcze o [remark-mdx-images](https://github.com/remcohaszing/remark-mdx-images).

DziÄ™ki tej bibliotece, w plikach `.mdx`, jestem w stanie wrzucaÄ‡ zdjÄ™cia do folderÃ³w z wpisami:

![](./folder-z-wpisami.jpg)

...i umieszczaÄ‡ je bezpoÅ›rednio w danym wpisie, ze Å›cieÅ¼ki relatywnej:

```markdown
![Vocabulary.com](./vocabulary.com-1.jpg)
```

Gdy w ten sposÃ³b zrobiÄ™, zdjÄ™cie zostanie automatycznie przeniesione do folderu `/public`, skÄ…d bÄ™dzie zaciÄ…gane w zbudowanej wersji bloga:

![](./link-do-zdjecia.jpg)

### React Hook Form

[React Hook Form](https://react-hook-form.com/) to wg mnie obecnie najprzyjemniejsza biblioteka do tworzenia formularzy w Reactcie.

Jest szybka, sporo rzeczy robi za nas i bardzo Å‚atwo jest tworzyÄ‡ z jej pomocÄ….

Dla przykÅ‚adu, tak bÄ™dzie wyglÄ…daÄ‡ uproszczona wersja formularza, za pomocÄ… ktÃ³rego moÅ¼esz zapisaÄ‡ siÄ™ na blogu do mojego newslettera (znajdziesz go na przykÅ‚ad [pod tym artykuÅ‚em](#newsletter)):

```tsx
const NewsletterForm: FC<Props> = () => {
  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<NewsletterData>();

  const handleSignUp: SubmitHandler<NewsletterData> = async (data) => {
    // ObsÅ‚uga zapisu do newslettera
  };

  return (
    <form onSubmit={handleSubmit(handleSignUp)}>
      <p>
        <label htmlFor="name">Twoje imiÄ™ (opcjonalne)</label>
        <input id="name" {...register('name')} />
      </p>
      <p>
        <label htmlFor="email">TwÃ³j e-mail</label>
        <input id="email" aria-invalid={!!errors.email} {...register('email', { required })} />
        {errors.email && <p role="alert">Wpisz proszÄ™ adres e-mail!</p>}
      </p>
      <button type="submit">ZapisujÄ™ siÄ™</button>;
    </form>
  );
};
```

Jak widaÄ‡, co obsÅ‚uguje nasz formularz, wszystko sprowadza siÄ™ do jednego hooka:

```tsx
useForm();
```

...i uÅ¼ycia tego, co z niego pobieramy. Reszta to szum typÃ³w i znacznikÃ³w HTML samego formularza.

Gdy mamy coÅ› takiego, pozostaje nam tylko wrzuciÄ‡ do funkcji `handleSignUp()` skrypt, ktÃ³ry bÄ™dzie obsÅ‚ugiwaÄ‡ zapis do newslettera, na front-endzie obsÅ‚uÅ¼yÄ‡ bÅ‚Ä™dy, ktÃ³re owy skrypt moÅ¼e wyrzuciÄ‡ i na koÅ„cu caÅ‚oÅ›Ä‡ ostylowaÄ‡.

### Ts-node

RozwiÄ…zanie kompletnie nieprzydatne w tego rodzaju projekcie, bo kodu wykonywanego bezpoÅ›rednio przez Node.js napisaÅ‚em tu tyle co kot napÅ‚akaÅ‚, ale dla osÃ³b, ktÃ³re robiÄ… wiÄ™ksze rzeczy w tej technologii - jak najbardziej!

Ja uÅ¼yÅ‚em go bardziej w ramach ciekawostki i po prostu nauki âœ¨

[Ts-node](https://typestrong.org/ts-node/) pozwala nam uruchamiaÄ‡ pliki TypeScripta, bezpoÅ›rednio w Å›rodowisku Node'a (bez potrzeby dodatkowej ich kompilacji przed uruchomieniem).

UÅ¼ywam jej do odpalania skrypcikÃ³w do [generowania cache'u](https://github.com/robert-orlinski/robertorlinski.pl/tree/main/scripts/generatePostsCache.ts) i [RSSa](https://github.com/robert-orlinski/robertorlinski.pl/blob/main/scripts/generateRSS.ts), napisanych wÅ‚aÅ›nie w TS.

### Husky

Jak juÅ¼ wspominaÅ‚em, za pomocÄ… ts-node'a odpalam 2 skrypty do generowania cache'u i RSSa. Dodatkowo sprawdzam caÅ‚y projekt w poszukiwaniu bÅ‚Ä™dÃ³w TypeScripta, rzeczy, ktÃ³re nie spodobaÅ‚yby siÄ™ ESLintowi i Prettierowi oraz odpalam testy.

RobiÄ™ to automatycznie, przy kaÅ¼dym zacommitowaniu zmian.

I w tym pomaga mi [Husky](https://github.com/typicode/husky).

Pozwala mi w prosty sposÃ³b skonfigurowaÄ‡ [hooki GITa](https://githooks.com/) (w moim przypadku jest to 1 - `pre-commit`), aby w momencie aktywacji danego hooka, odpalaÅ‚y siÄ™ zdefiniowane przeze mnie skrypty npma.

Te oto uruchamiam przy okazji kaÅ¼dego commita:

```bash
npx lint-staged
npm test

npm run generate
git add cache/posts.json
git add public/rss.xml
```

> [Lint-staged](https://github.com/okonet/lint-staged) pozwala mi uruchamiaÄ‡ konkretne lintery, dla plikÃ³w zmienionych w ramach danego commita. Korzystam z ESLinta, Prettiera i dodatkowo poszukujÄ™ bÅ‚Ä™dÃ³w TypeScripta, w razie gdyby moje IDE czegoÅ› nie zÅ‚apaÅ‚o.

### Jest i React Testing Library

Tej pary chyba nie muszÄ™ Ci przedstawiaÄ‡.

[Jest](https://jestjs.io/) zapewnia mi wszelkie narzÄ™dzia do uruchamiania testÃ³w i pozwala pisaÄ‡ testy jednostkowe.

[React Testing Library](https://testing-library.com/docs/react-testing-library/intro/) pozwala mi pisaÄ‡ Å‚atwe w utrzymaniu testy integracyjne, stricte nastawione na Reacta.

### Module-alias

[Module-alias](https://github.com/ilearnio/module-alias), to te same aliasy Å›cieÅ¼ek, ktÃ³re znamy z [Webpacka](https://webpack.js.org/configuration/resolve/) czy [TypeScripta](https://www.typescriptlang.org/tsconfig#paths), w Node.js. Przydatna sprawa!

### RSS

[RSS](https://github.com/dylang/node-rss) pozwala mi w bardzo Å‚atwy sposÃ³b generowaÄ‡ feed RSS, z ktÃ³rego korzystam na blogu i o ktÃ³rym wspominaÅ‚em juÅ¼ trochÄ™ w ramach tego artykuÅ‚u.

W pliku [`scripts/generateRSS.ts`](https://github.com/robert-orlinski/robertorlinski.pl/blob/main/scripts/generateRSS.ts), podajÄ™ do tej biblioteki wszelkie potrzebne informacje, pobierane z innych obszarÃ³w kodu mojego bloga:

```ts
const feed = new RSS({
  title: `${siteName} ${addressSeparator} ${slogan}`,
  site_url: siteUrl,
  feed_url: `${siteUrl}/rss.xml`,
  language: 'pl',
  copyright: `${new Date().getFullYear()} ${blogAuthor}`,
  webMaster: blogAuthor,
  managingEditor: blogAuthor,
});

posts.map(({ slug, title, abstract, date, topics }) => {
  feed.item({
    title: title,
    description: abstract,
    url: `${siteUrl}/${slug}`,
    guid: slug,
    categories: [...topics],
    author: blogAuthor,
    date: new Date(dayjs(date, 'DD.MM.YYYY').format()),
  });
});
```

I tworzÄ™ sam pliczek, ktÃ³ry pÃ³Åºniej jest dostÄ™pny pod adresem [https:/robertorlinski.pl/rss.xml](/rss.xml):

```ts
writeFile(`${targetDir}/rss.xml`, rssCode, (err) => {
  if (err) {
    console.log(err);
  } else {
    console.log('RSS generated.');
  }
});
```

Sam plik odpalany jest w ramach komendy `npm run generate`, [ktÃ³rÄ… uruchamiam przy kaÅ¼dym commicie](#husky).

### I kilka innych, mniejszych narzÄ™dzi

Takich jak choÄ‡by:

- [react-lite-youTube-embed](https://github.com/ibrahimcesar/react-lite-youtube-embed);
- [slugify](https://github.com/simov/slugify);
- [polish-plurals](https://github.com/mmiszy/polish-plurals);
- [reading-time](https://github.com/ngryman/reading-time);
- [tsc-files](https://github.com/gustavopch/tsc-files)

Nie bÄ™dÄ™ rozpisywaÄ‡ siÄ™ na ich temat, bo sÄ… to rzeczy doÅ›Ä‡ proste i wystarczy zajrzeÄ‡ pod wrzucone przeze mnie linki, aby od razu dowiedzieÄ‡ siÄ™ o ich przeznaczeniu i sposobie dziaÅ‚ania, ale abyÅ›my mieli komplet, dajÄ™ znaÄ‡ o tym, Å¼e ich uÅ¼ywam.

OczywiÅ›cie listÄ™ wszystkich zaleÅ¼noÅ›ci, z ktÃ³rych w jakiÅ› sposÃ³b korzystam w kodzie bloga, znajdziesz w pliczku [`package.json`](https://github.com/robert-orlinski/robertorlinski.pl/blob/main/package.json) w [repozytorium na GitHubie](https://github.com/robert-orlinski/robertorlinski.pl).

## I to tyle na dziÅ›!

Mam nadziejÄ™, Å¼e ten artykuÅ‚ pozwoliÅ‚ poznaÄ‡ Ci jakÄ…Å› nowÄ… technologiÄ™, podejÅ›cie lub po prostu przyjemnie Ci siÄ™ go czytaÅ‚o.

Daj znaÄ‡ w komentarzu, czy o czymÅ› jeszcze mogÄ™ opowiedzieÄ‡ lub dany temat rozwinÄ…Ä‡ w innych wpisach i do nastÄ™pnego ğŸ¥³
