---
title: Efekt parallax wykonany w czystym CSS
abstract: Pewnie wielu z Was zna efekt, dziaÅ‚ajÄ…cy w ten sposÃ³b, Å¼e czÄ™Å›Ä‡ witryny przesuwa siÄ™ inaczej niÅ¼ reszta - parallax. Dzisiaj stworzymy go w samym CSS!
isPublished: true
topics:
  - Front-end
date: 09.10.2021
isPopular: true
menuOrder: 0
---

Pewnie kojarzysz efekt, w ktÃ³rym konkretna czÄ™Å›Ä‡ strony internetowej przesuwa siÄ™ w innej szybkoÅ›ci niÅ¼ reszta. Niestety zwykle bazuje on na dodatkowych skryptach JavaScript, ktÃ³re w tym przypadku sÄ… zbÄ™dne i mogÄ… tylko niepotrzebnie spowalniaÄ‡ naszÄ… stronÄ™.

ZbÄ™dne, bo wÅ‚aÅ›nie - ten efekt moÅ¼emy wdroÅ¼yÄ‡ znacznie przyjemniej, tylko stylizujÄ…c nasz element w CSS. SzczegÃ³lnie w obecnych czasach, gdy wÅ‚aÅ›ciwoÅ›ci CSSa, o ktÃ³rych opowiem, sÄ… w peÅ‚ni dostÄ™pne w aktualnych przeglÄ…darkach!

> Pierwsza wersja tego artykuÅ‚u powstaÅ‚a w roku 2017, gdzie o rzeczach, ktÃ³re pokaÅ¼Ä™, mÃ³wiÅ‚em bardziej jako o ciekawostce. Cudnie jest widzieÄ‡, Å¼e obecnie mogÄ™ mÃ³wiÄ‡ o tym, jako o czymÅ›, co po prostu moÅ¼na wdroÅ¼yÄ‡ ğŸ¥³

Dobra, juÅ¼ pokazujÄ™ jak to zrobiÄ‡!

Aaaaaalbo, zanim jeszcze zaczniemy, tutaj znajdziesz dziaÅ‚ajÄ…cy przykÅ‚ad, ktÃ³ry prezentuje ten efekt:

import CodePenIframe from 'CodePenIframe';

<CodePenIframe id="YzxzzJN" title="Efekt parallax w samym CSS" />

JeÅ›li tylko chcesz, to podrzucony wyÅ¼ej snippet moÅ¼esz swobodnie edytowaÄ‡ âœ¨ LeÄ‡my!

## TrochÄ™ kodu HTML

Na poczÄ…tku nie mogÅ‚o go zabraknÄ…Ä‡. StworzÄ™ prostÄ… stronÄ™, z trzema sekcjami (w tym jedna bÄ™dzie miaÅ‚a zastosowany efekt parallax).

Oto nasz kod HTML:

```html
<main class="wrapper">
  <section class="row row--static"></section>

  <section class="row row--with-parallax"></section>

  <section class="row row--static"></section>
</main>
```

JeÅ›li nie do koÅ„ca wiesz, dlaczego klasy zapisaÅ‚em w taki sposÃ³b, jak tu widaÄ‡, moÅ¼esz sprawdziÄ‡ mÃ³j [artykuÅ‚ na temat metodologii BEM](/metodologia-bem), ktÃ³ry przybliÅ¼y Ci ten temat (ktÃ³rego swojÄ… drogÄ… zapewne w przyszÅ‚oÅ›ci i tak przyjdzie Ci siÄ™ nauczyÄ‡, bo metodologii tej uÅ¼ywa siÄ™ baaardzo czÄ™sto).

## Kod (S)CSS, skÅ‚adajÄ…cy siÄ™ na nasz efekt parallax

MoÅ¼e na poczÄ…tku pokaÅ¼Ä™, jak wyglÄ…da on w peÅ‚nej peÅ‚nej okazaÅ‚oÅ›ci:

```scss
body {
  margin: 0;
}

.wrapper {
  height: 100vh;
  overflow-x: hidden;

  perspective: 2px;
}

.row {
  position: relative;
  height: 70vh;

  &::after {
    content: '';

    position: absolute;
    inset: 0;
  }

  &--static {
    z-index: 1;
    background-color: #303030;
  }

  &--with-parallax {
    transform-style: preserve-3d;

    &::after {
      background: url('https://static.robertorlinski.pl/forest.jpg') center;

      transform: translateZ(-1px) scale(2);
    }
  }
}
```

CaÅ‚oÅ›Ä‡ jest napisana w SCSSie, poniewaÅ¼:

1. SCSS jest ekstremalnie przyjemny i chyba nikt z nas, kto tworzy juÅ¼ trochÄ™ strony i aplikacje internetowe, nie moÅ¼e powiedzieÄ‡, Å¼e nie zna jego skÅ‚adni.
2. Bardzo przyjaÅºnie moÅ¼na w nim pisaÄ‡ w ramch [metodologii BEM](../metodologia-bem), o ktÃ³rej juÅ¼ wspominaÅ‚em przy okazji HTMLa.

Okej, przeanalizujmy go krok po kroku:

```scss
body {
  margin: 0;
}
```

Tu nie ma zbyt duÅ¼o do tÅ‚umaczenia, eliminujemy domyÅ›lny margines. Tak naprawdÄ™ dodaÅ‚em to tylko po to, aby strona z przykÅ‚adem wyglÄ…daÅ‚a lepiej ğŸ˜Œ

```scss
.wrapper {
  height: 100vh;
  overflow-x: hidden;

  perspective: 2px;
}
```

Na poczÄ…tku wysokoÅ›Ä‡ kontenera. 100vh oznacza, Å¼e jest ona rÃ³wna wysokoÅ›ci okna przeglÄ…darki, co jest potrzebne, aby perspektywa zadziaÅ‚aÅ‚a (wiÄ™cej o niej za chwilkÄ™), a tym samym caÅ‚y efekt.

`Overflow-x: hidden` odpowiada za ukrycie przepeÅ‚nienia strony w poziomie. Aby nasz efekt zadziaÅ‚aÅ‚, musimy powiÄ™kszaÄ‡ pÃ³Åºniejsze elementy, a gdy tak zrobimy, to wyjdÄ… poza widok przeglÄ…darki, a tym samym utworzÄ… poziomy scroll-bar.

Na koÅ„cu uÅ¼ywamy wÅ‚aÅ›ciwoÅ›ci [`perspective`](https://developer.mozilla.org/en-US/docs/Web/CSS/perspective#Browser_compatibility) z wartoÅ›ciÄ… `2px`, ktÃ³ra to odpowiada za uÅ‚oÅ¼enie perspektywy, z ktÃ³rej patrzy uÅ¼ytkownik, wzglÄ™dem powierzchni naszej strony internetowej oraz symuluje trÃ³jwymiarowoÅ›Ä‡ obszaru roboczego (viewportu).

DziÄ™ki temu, moÅ¼emy zasymulowaÄ‡ sytuacjÄ™, w ktÃ³rej jedne elementy sÄ… bliÅ¼ej uÅ¼ytkownika, a inne dalej i to w sposÃ³b, ktÃ³ry jest widoczny na pierwszy rzut oka (nie tak jak to dziaÅ‚a w przypadku `z-indexÃ³w`, gdzie dane elementy przykrywajÄ… inne, nie zmieniajÄ…c swojego zachowania).

```scss
.row {
  position: relative;
  height: 70vh;

  &::after {
    content: '';

    position: absolute;
    inset: 0;
  }

  &--static {
    z-index: 1;
    background-color: #303030;
  }

  /* ... */
}
```

Celowo pominÄ…Å‚em ostatni blok kodu, bo o nim powiemy sobie pÃ³Åºniej najwiÄ™cej. PowyÅ¼ej z kolei, ustawiamy tylko poÅ‚oÅ¼enie szarych sekcji, ich kolor, rozmiary kaÅ¼dej sekcji i rozmiary pseudoelementÃ³w.

Tym ostatnim nadajemy wielkoÅ›Ä‡ elementu `.row` za sprawÄ… wÅ‚aÅ›ciwoÅ›ci [`inset`](https://developer.mozilla.org/en-US/docs/Web/CSS/inset).

```scss
.row {
  /* ... */

  &--with-parallax {
    transform-style: preserve-3d;

    &::after {
      background: url('https://static.robertorlinski.pl/forest.jpg') center;

      transform: translateZ(-1px) scale(2);
    }
  }
}
```

I ostatnia czÄ™Å›Ä‡ naszego kodu. Skupmy siÄ™ na pierwszej i ostatniej wÅ‚aÅ›ciwoÅ›ci.

DziÄ™ki zastosowaniu `transform-style: preserve-3d`, nasze rzÄ™dy stajÄ… siÄ™ de facto trÃ³jwymiarowe, dziÄ™ki czemu ich elementy moÅ¼emy przesuwaÄ‡, obracaÄ‡ itp., nie tylko na jednej pÅ‚aszczyÅºnie (pÅ‚aszczyÅºnie samej strony internetowej), ale rÃ³wnieÅ¼ na pÅ‚aszczyÅºnie przecinajÄ…cÄ… jÄ….

Åšwietnie o tej wÅ‚aÅ›ciwoÅ›ci opowiada [dokumentacja MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-style), gdzie rÃ³wnieÅ¼ moÅ¼esz zobaczyÄ‡ przyjemne demo, prezentujÄ…ce rÃ³Å¼nicÄ™ miÄ™dzy elementami, ktÃ³rych ta wÅ‚aÅ›ciwoÅ›Ä‡ zostaÅ‚a zastosowana, a tymi bez niej.

Z kolei za pomocÄ… ostatniej linijki (wÅ‚aÅ›ciwoÅ›ci `transform`) na poczÄ…tku oddalamy element wzglÄ™dem viewportu za pomocÄ… wartoÅ›ci `translateZ` (staje siÄ™ on optycznie mniejszy, przez pozorne jego oddalenie), po czym go powiÄ™kszamy dziÄ™ki wartoÅ›ci `scale`.

DziÄ™ki temu to co jest dalej, porusza siÄ™ pozornie wolniej - tak jak w prawdziwym Å¼yciu.

## Podsumowanie

Jak widaÄ‡ dziÄ™ki paru wÅ‚aÅ›ciwoÅ›ciom w kodzie CSS, moÅ¼emy stworzyÄ‡ bardzo prosty oraz funkcjonalny efekt paralaksy na kaÅ¼dej stronie internetowej!

Jeszcze raz podrzucam dziaÅ‚ajÄ…ce demo, ktÃ³re moÅ¼esz swobodnie edytowaÄ‡:

<CodePenIframe id="YzxzzJN" title="Efekt parallax w samym CSS" />

Do nastÄ™pnego razu ğŸ‰
